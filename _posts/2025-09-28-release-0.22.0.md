---
layout: post
title: Release 0.22.0
---

The Jagged Alliance 2 Stracciatella team is proud to present a new release showcasing about a year and a half of work. It includes several new features, plenty of bugfixes
compared to previous versions and the original game, clean-ups of the old code base. Most notable is the JSON patch support, [which you should read more about here](https://ja2-stracciatella.github.io/mods/#using-json-patches). It avoids stale files problems when upgrading, massively eases modding the externalized JSON files and thus reduces mod size and enables several mods to patch the same file.

Through 440 commits at least 38 bugs were fixed, 19 of which are known to affect vanilla.

## New Features:
  - JSON patching for easier user configuration maintenance (e.g. your changes to game.json)
  - More diagonal interactions with doors and more options for double doors
  - Modding Improvements
    - JSON patching: no need to replace a whole file in your mod any more, just provide a JSON patch to change the values you want
    - More hardcoded values and assumptions are now externalized to additional or improved json files for easy editing in JSON: explosives, armors, NPC script records, smoke effects

**IMPORTANT**: If you are switching between the nightly and release versions of JA2 Stracciatella on Android before you might need to uninstall the old APK before installing the new release. Make sure to backup your data before doing this as it might erase your save games.

We are shipping pre-built packages for Linux, Windows, macOS and Android. This should help users to easily get started with Jagged Alliance 2 Stracciatella. For users willing to take a risk we also provide automatically created [nightly builds](https://storage.googleapis.com/ja2-builds/index.html#nightlies/).

### Download

[http://ja2-stracciatella.github.io/download/](http://ja2-stracciatella.github.io/download/)

## Main Changelog:

### Enhancements

- Enhancement: Add internalName property to TownModel and other fixes (#2081)
- Enhancement: Enable diagonal interaction with wall-oriented structures (#2166)
- Enhancement: Increase the displayed character limit, so that the full lines in AIM and MERC Bios is usable. (#1986)
- Enhancement: Assigning doctor or repair tasks should put the content of the primary hand in the secondary instead of an inventory pocket (#1989)
- Enhancement: Provide a Flatpak version (#1700)
- Enhancement: Enable linking against musl libc (#1968)

### Modding Improvements

- Enhancement: Add JSON Patch functionality for modding (#2052)
- Enhancement: Externalize armours (#2201)
- Enhancement: Externalize explosives (#2053)
- Enhancement: Externalize NPC script records (#2029)
- Enhancement: Extract smoke effects (#2063)
- Enhancement: Lift the MAX_WEAPONS restriction; weapons no longer must have an index < 70 (#2051)
- Enhancement: Fixing vanilla binaries without breaking mods (#2167)
- Enhancement: Replace merging with overwriting for inventory (#2225)
- Bugfix: Fix moddability of Walter's bribe amount (#2030)

### Bugfixes (vanilla)

- Bugfix: Crash if Skyrider tries to swim (#2191)
- Bugfix: Game crashes after the turn (#2124)
- Bugfix: Some prone enemies force the game to freeze and become untouchable (#1822)
- Bugfix: Creatures lair is empty (#1228)
- Bugfix: Doreen Harrows still in Drassen C13 after quest completion (#750)
- Bugfix: Infinite UI lock on item-giving action (#2194)
- Bugfix: Walking diagonally through large doors - impossible? (#83)
- Bugfix: Fix jump location validation (#2006)
- Bugfix: Fix prone positioning (#2116)
- Bugfix: Not all militia appearing and incorrect training level at SAM site. (#292)
- Bugfix: PickBurstLocation never called in real-time mode. (#2072)
- Bugfix: Skyrider placed randomly (?) in Drassen Airport (#478)
- Bugfix: When you give a weight above 25,6 kg to the item, then the game starts counting its weight again from zero. (#1973)
- Bugfix: You can't rehire Larry from M.E.R.C when he is drunk (#1956)
- Bugfix: Add travelcost values for sliding doors to prevent walking through frame posts (#1991)
- Bugfix: Tiny graphic issue in strategic map sector name display (#1491)
- Bugfix: Icecream Truck follows squad without driving it (#2037)
- Bugfix: Fix tile path-blocking on roofs due to nearby explosion (#1999)
- Bugfix: Fix Realtime mode spread burst. (#2073)

### Bugfixes

- Bugfix: Crash while depositing money (#2040)
- Bugfix: Crash with error when autoresolving in sectors attacked by sodiers and defended by militias and mercs (27 august nightly build) (#2068)
- Bugfix: Fix hang while displaying FOV debug info (#2001)
- Bugfix: ALT+ENTER doesn't work anymore in the cheat mode (#1977)
- Bugfix: Broken JSON file load order (#2159)
- Bugfix: Fix mercs refusing to join/renew contract (#2059)
- Bugfix: If you dismiss from your squad NPC like Skyrider, John and Mary or runaway kid Joey, when you are escorting them, then the game freezes (#1980)
- Bugfix: Joey can be escorted again after delivering him to Martha (#1370)
- Bugfix: Lockpicking bug on doors (regression) (#2192)
- Bugfix: Mercs can't open boxes (#2187)
- Bugfix: Null pointer crash in ExplosiveModel::getDamage (#2083)
- Bugfix: Opening doors sometimes causes spinbug (#2198)
- Bugfix: Sending Skyrider to Drassen before his dialogue ends crashes. (#2005)
- Bugfix: Two blitters are probably buggy? (#2146)
- Bugfix: Underground levels don't show on the strategic screen  (#2018)
- Bugfix: When exiting the game with keyboard shortcut from the strategic screen, some graphics are missing (#2119)
- Bugfix: When you enter load game screen while clock is spinning, then you can't return to the game (#1972)
- Bugfix: Throwing a rock crashes the game (#2154)
- Bugfix: Russian translation bugs (#2196)

### Editor

- Editor: In map editor if you press space key when you are in civilian "merc att" tab, then the game crashes (#1981)
- Editor: In map editor, in character inventory, the bottom boxes are almost inactive. (#1946)
- Editor: The button for creating radar maps seems missing from map editor (#1959)

### Maintenance Work

- Maintenance: Address TODO0009: possible endless loop (#2065)
- Maintenance: Depend on a minimum Rust feature level, not a specific version (#2173)
- Maintenance: Is it possible to make the Github runners do less work? (#2099)
- Maintenance: Our GitHub actions require some attention (#1994)
- Maintenance: Remove workaround for an old SDL bug in ScrollJA2Background (#2085)
- Maintenance: Use smart pointers to manage ZStripInfo structs (#1921)
- Maintenance: Remove getOptionalInt and co as they've become redundant (#1542)
- Maintenance: Cannot compile with GCC 15.1.1 (#2168)
- Maintenance: MinGW unit test errors with __FILENAME__ in Logger_unittest.cc (#1916)
- Maintenance: MSYS2/MinGW standard build fails (#1917)
- Maintenance: Build fails with LTO due to ODR violations (#1963)
- Maintenance: Ja2-resource-pack doesn't comply with RelWithDebInfo (#1623)
